<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="styles.css">
<title>Sushi Delivery</title>
</head>
<header><h1>Sushi Delivered 2U</h1></header>
<body>
<div id="sushi" >
<div id="order">
<strong>Please Select What You Would Like To Order</strong>
<pre>
<input type="checkbox" id="Cali" onclick="disableChangeCA(); subtotal2()"></input>CA Roll:           <input type="text" id="CA" size='2' value="0" disabled='true' onblur="caliTotal(); subtotal2()">    @  $6.50 <input type="text" id="CAtotal" size="6" readonly="readonly" value='0'><br>
<input type="checkbox" id="catx" onclick="disableChangeCat(); subtotal2()">Caterpillar Roll:  <input type="text" id="Cat" size='2' value="0" disabled='true' onblur="catTotal(); subtotal2()">    @  $7.25 <input type="text" id="Cattotal" size="6" readonly="readonly" value='0'><br>
<input type="checkbox" id="Phila" onclick="disableChangePhila(); subtotal2()">Philadelphia Roll: <input type="text" id="Phili" size='2' value="0" disabled='true' onblur="philaTotal(); subtotal2()">    @  $6.00 <input type="text" id="Philitotal" size="6" readonly="readonly" value='0'><br>
<span id="orderError"></span>
SubTotal: $<input type="text" name="subTotal" id="subTotal" class="subTotal" size='6' placeholder="Sub Total" value="" readonly="readonly"><br>
</pre></div><br>
<div id="information">
<strong>Please Enter Your Information:</strong><br>
<input type="text" name="userName" id="userName" class="userInfo" size='20' placeholder="Full name" value='' onchange="nameValidate()"><span id="nameError"></span><br>
<input type="text" name="address" id="address" class="userInfo" size='20' placeholder="Address" value=""><br>
<input type="text" name="city" id="city" class="userInfo" size='16' placeholder="City" value=""><br>
<select class="userInfo" id='state'>
			<option selected="true" disabled="true">Select Your State</option>
			<option value="AL">Alabama</option> 
			<option value="AK">Alaska</option> 
			<option value="AZ">Arizona</option> 
			<option value="AR">Arkansas</option> 
			<option value="CA">California</option> 
			<option value="CO">Colorado</option> 
			<option value="CT">Connecticut</option> 
			<option value="DE">Delaware</option> 
			<option value="DC">District Of Columbia</option> 
			<option value="FL">Florida</option> 
			<option value="GA">Georgia</option> 
			<option value="HI">Hawaii</option> 
			<option value="ID">Idaho</option> 
			<option value="IL">Illinois</option> 
			<option value="IN">Indiana</option> 
			<option value="IA">Iowa</option> 
			<option value="KS">Kansas</option> 
			<option value="KY">Kentucky</option> 
			<option value="LA">Louisiana</option> 
			<option value="ME">Maine</option> 
			<option value="MD">Maryland</option> 
			<option value="MA">Massachusetts</option> 
			<option value="MI">Michigan</option> 
			<option value="MN">Minnesota</option> 
			<option value="MS">Mississippi</option> 
			<option value="MO">Missouri</option> 
			<option value="MT">Montana</option> 
			<option value="NE">Nebraska</option> 
			<option value="NV">Nevada</option> 
			<option value="NH">New Hampshire</option> 
			<option value="NJ">New Jersey</option> 
			<option value="NM">New Mexico</option> 
			<option value="NY">New York</option> 
			<option value="NC">North Carolina</option> 
			<option value="ND">North Dakota</option> 
			<option value="OH">Ohio</option> 
			<option value="OK">Oklahoma</option> 
			<option value="OR">Oregon</option> 
			<option value="PA">Pennsylvania</option> 
			<option value="RI">Rhode Island</option> 
			<option value="SC">South Carolina</option> 
			<option value="SD">South Dakota</option> 
			<option value="TN">Tennessee</option> 
			<option value="TX">Texas</option> 
			<option value="UT">Utah</option> 
			<option value="VT">Vermont</option> 
			<option value="VA">Virginia</option> 
			<option value="WA">Washington</option> 
			<option value="WV">West Virginia</option> 
			<option value="WI">Wisconsin</option> 
			<option value="WY">Wyoming</option>
</select><br>
<input type="text" name="zip" id="zip" class="userInfo" size='6' placeholder="Zip code" value="" onchange="zipcodeValidation()"><span id="zipError"></span><br>
<input type="text" name="phone" id="phone" class="userInfo" size='10' placeholder="your digits" value='' onchange="phoneValidate()"><span id="phoneInstructions">No spaces or hyphens please</span><br>
<input type="text" name="email" id="email" class="userInfo" size='25' placeholder="email@domain.com" value='' onchange="emailValidate()"><span id="emailError"></span><br><span id='infoError'></span><br></div>

<div id="ship_pay">
<p><strong>Please Select A Shipping Method</strong></p>
<input type="radio" name="shipping" id="standard" onchange="checkout()"><strong>Standard: $3.50</strong>
<input type="radio" name="shipping" id="2day" onchange="checkout()"><strong>2-3 day: $5.00</strong>
<input type="radio" name="shipping" id="overnight" onchange="checkout()"><strong>Overnight: $7.50</strong><br><span id='shippingError'></span><br>
Taxes: $<input type="text" name="tax" id="tax" class="tax" size='6' placeholder="taxes" readonly="readonly" value=""><br>
Your Total: $<input type="text" name="total" id="total" class="subTotal" size='6' placeholder="Your Total" readonly="readonly" value=""><br>
<select name="card-type" class="ccjs" onchange="getCreditCardType()">
	<option selected="true" disabled="true">Payment Method</option>
	<option id='mastercard' value="mastercard" class="ccjs-mastercard">Mastercard</option></option>
    <option id='visa' value="visa" class="ccjs-Visa">Visa</option>
  </select><br> 
<p>Please Enter Your Credit Card Number</p>
<input type="text" id="ccnumber" size="18" value="" onchange="getCreditCardType()"><p id='ccerror'></p><br>
<button onclick="validateForm()">Place Order</button>
</div><br><br>
</div>
<script>
function disableChangeCA(CA){
	if(document.getElementById('Cali').checked==true){
	document.getElementById('CA').disabled=false;
	}else if(document.getElementById('Cali').checked==false){
	document.getElementById('CA').disabled=true;
	document.getElementById("CA").value = 0;
	document.getElementById("CAtotal").value = 0;
	}
}
function caliTotal(){
	var caltotal = document.getElementById('CA').value*6.5;
	document.getElementById("CAtotal").value = caltotal;
	return caltotal;
	}
function disableChangeCat(){
	if(document.getElementById('catx').checked==true){
	document.getElementById('Cat').disabled=false;
	} else if (document.getElementById('catx').checked==false){
	document.getElementById('Cat').disabled=true;
	document.getElementById('Cat').value=0;
	document.getElementById('Cattotal').value=0;
	}
	}
function catTotal(){
	var catertotal = document.getElementById('Cat').value*7.25;
	document.getElementById("Cattotal").value= catertotal;
	return catertotal;
	}
function disableChangePhila(){
	if(document.getElementById('Phila').checked==true){
	document.getElementById('Phili').disabled=false;
	} else if(document.getElementById('Phila').disabled==false){
	document.getElementById('Phili').disabled=true;
	document.getElementById('Phili').value=0;
	document.getElementById('Philitotal').value=0;
	}
	}
function philaTotal(){
	var philTotal = document.getElementById('Phili').value*6;
	document.getElementById("Philitotal").value= philTotal;
	return philTotal;
	}
function subtotal2(){
	var CArolls = parseFloat(document.getElementById('CAtotal').value);
	var Catrolls = parseFloat(document.getElementById('Cattotal').value);
	var Philirolls = parseFloat(document.getElementById('Philitotal').value);
	var subTotal =  CArolls + Catrolls + Philirolls;
	document.getElementById("subTotal").value = subTotal;
	return subTotal;
	}
function checkout(){
		var subTotal = parseFloat(document.getElementById("subTotal").value);
		subTotal = subTotal.toFixed(2);
		if (document.getElementById('standard').checked){	
		var shipping = 3.5;
		var taxes = subTotal*.075+shipping*.075;
		taxes = taxes.toFixed(2);
		document.getElementById('tax').value = taxes;
		var total = parseFloat(taxes)+parseFloat(shipping)+parseFloat(subTotal);
		document.getElementById('total').value = total.toFixed(2);
		} 
		else if (document.getElementById('2day').checked){
		var shipping = 5;
		var taxes = subTotal*.075+5.00*.075;
		taxes = taxes.toFixed(2)
		document.getElementById('tax').value = taxes;
		var total = parseFloat(taxes)+parseFloat(shipping)+parseFloat(subTotal);
		document.getElementById('total').value = total.toFixed(2);
		}
		else if (document.getElementById('overnight').checked){ 
		var shipping = 7.50;
		var taxes = subTotal*.075+7.5*.075;
		taxes = taxes.toFixed(2);
		document.getElementById('tax').value = taxes;
		var total = parseFloat(taxes)+parseFloat(shipping)+parseFloat(subTotal);
		document.getElementById('total').value = total.toFixed(2);
		}
		};
function phoneValidate(){
	var input = document.getElementById('phone').value;
	if (input.match(/^\d{10}$/)){
	document.getElementById('phoneInstructions').style.color="green"
	document.getElementById('phoneInstructions').innerHTML="Valid Phone Number";
	return true;
	}
	document.getElementById('phoneInstructions').style.color="red"
	document.getElementById('phoneInstructions').innerHTML="Phone Number Not Valid. No spaces or hyphens please"; 
	return false;  
	};
function emailValidate(){
	var input = document.getElementById('email').value;
	var symbol = input.indexOf("@");
	var chars = /^[0-9a-zA-Z]+$/;
	if (symbol>0 && input.charAt(symbol+1).match(chars) && input.charAt(symbol-1).match(chars)){
		document.getElementById("emailError").style.color="green";
		document.getElementById("emailError").innerHTML="Thanks - We won't share your email with anyone";
		return true;
		}
		document.getElementById("emailError").style.color="red";
		document.getElementById("emailError").innerHTML="Please enter a valid email";
		return false;
	}
function nameValidate(){
	if (/[\d]/.test(document.getElementById("userName").value)) {
			document.getElementById("nameError").style.color = "red";
			document.getElementById("nameError").innerHTML="Name cannot contain numbers";
		} else {
			console.log('name ok');
			document.getElementById("nameError").innerHTML="";
			return true;
		}
	}
function zipcodeValidation(){
	if (/^([0-9]{5})(?:[-\s]*([0-9]{4}))?$/.test(document.getElementById('zip').value)){  
		document.getElementById('zipError').style.color="green"
		document.getElementById('zipError').innerHTML="";
		return true;
	} else {
		document.getElementById('zipError').style.color="red"
		document.getElementById('zipError').innerHTML="Zipcode Not Recognized";
		return false;
	}
	}
function getCreditCardType(){
  var result = "unknown";
  if(document.getElementById('mastercard').selected==true){
  if(document.getElementById('ccnumber').value ==""){
	document.getElementById('ccerror').innerHTML="";
	}
  else if (/^5[1-5]/.test(document.getElementById('ccnumber').value))
  {
	document.getElementById("ccerror").style.color = "green";
	document.getElementById('ccerror').innerHTML="Mastercard Recognized";
    result = "mastercard";
  }
  else {
	document.getElementById("ccerror").style.color = "red";
	document.getElementById('ccerror').innerHTML="Mastercard Number Not Recognized";
	}
	}
	else if (document.getElementById('visa').selected==true){
	 if(document.getElementById('ccnumber').value ==""){
	document.getElementById('ccerror').innerHTML="";
	}
	else if (/^4/.test(document.getElementById('ccnumber').value))
	{
	document.getElementById("ccerror").style.color = "green";
	document.getElementById('ccerror').innerHTML="Visa Recognized";
    result = "visa";
	} else {
	document.getElementById("ccerror").style.color = "red";
	document.getElementById('ccerror').innerHTML="Please enter a valid Visa credit card number";
  }
  return result;
}
}
function validateForm(){
	var california = document.getElementById('CA').value;
	var catterpillar = document.getElementById('Cat').value;
	var philadelphia = document.getElementById('Phili').value;
	var name = document.getElementById('userName').value;
	var address = document.getElementById('address').value;
	var city = document.getElementById('city').value;
	var zip =  document.getElementById('zip').value;
	var phone =  document.getElementById('phone').value;
	var email =  document.getElementById('email').value;
	var state = document.getElementById('state').value;
	var standard = document.getElementById('standard');
	var twoday = document.getElementById('2day');
	var overnight = document.getElementById('overnight');
	if ((california == 0 || isNaN(california)) && (catterpillar == 0 || isNaN(catterpillar)) && (philadelphia == 0 || isNan(philadelphia))){
		document.getElementById('orderError').style.color = 'red';
		document.getElementById('orderError').innerHTML = "Please Order At Least One Roll";
		return false;
		}
	if (name=="" || address== "" || city=="" || zip=="" || phone=="" || email == "" || state==""){
		document.getElementById('infoError').style.color = 'red';
		document.getElementById('infoError').innerHTML = "Please Make Sure Your Information Is Correct";
		return false;
		}
	if(document.getElementById('total').value ==""){
		document.getElementById("shippingError").style.color = 'red';
		document.getElementById('shippingError').innerHTML = "Please Select How You Want Your Sushi Delivered";
		return false;
		}
	if(document.getElementById("ccnumber").value==null){
		document.getElementById("ccerror").style.color = "red";
		document.getElementById('ccerror').innerHTML="Please Enter Your Credit Card Number ";
		return false;
		}
	else {
	alert ('Success!  Your order is on the way');
		window.location.href="01thankyou.html";
		return true;
		}
	}
</script>
</body>


</html>